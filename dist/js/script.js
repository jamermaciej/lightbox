"use strict";console.log("plugins.js");var body=document.querySelector("body"),lightbox=document.createElement("div");lightbox.classList.add("lightbox");var caption=document.createElement("p");caption.classList.add("lightbox__caption");var lightboxNav=document.createElement("div");lightboxNav.classList.add("lightbox__nav");var prev=document.createElement("button"),next=document.createElement("button");prev.classList.add("lightbox__prev-btn"),next.classList.add("lightbox__next-btn");var closeBtn=document.createElement("a");closeBtn.classList.add("lightbox__close-btn");var lightboxLoader=document.createElement("div");lightboxLoader.classList.add("lightbox__loader");var lightboxContainer=document.createElement("div");lightboxContainer.classList.add("lightbox__container");var counter=document.createElement("div");counter.classList.add("lightbox__counter");var images=document.querySelectorAll(".gallery .gallery__image"),imagesLink=document.querySelectorAll(".gallery .gallery__link"),lightboxImage=void 0,imageUrl=void 0,current=void 0,closedState=!0;function showImage(e){imageUrl=imagesLink[current=e].getAttribute("href"),lightboxContainer.innerHTML='<img src="'+imageUrl+'" class="lightbox__image" alt="">',lightboxImage=document.querySelector(".lightbox__image"),loader(),body.classList.add("noscroll"),disabledArrow(),counter.innerText=current+1+" / "+images.length}function loader(){lightboxLoader.style.visibility="visible",lightboxImage.addEventListener("load",function(){lightboxLoader.style.visibility="hidden"})}function closeLightbox(){closedState=!0,body.classList.remove("noscroll"),lightbox.classList.remove("open")}function nextImage(e){e.stopPropagation(),current<imagesLink.length-1&&(showImage(current+1),showCaption(current))}function prevImage(e){e.stopPropagation(),0<current&&(showImage(current-1),showCaption(current))}function disabledArrow(){0===current?prev.classList.add("disabled"):current===imagesLink.length-1?next.classList.add("disabled"):(prev.classList.remove("disabled"),next.classList.remove("disabled"))}function showCaption(e){var t=images[e].getAttribute("alt");t&&(caption.innerText=t)}function events(){closeBtn.addEventListener("click",closeLightbox(event),!1),lightbox.addEventListener("click",closeLightbox,!1),next.addEventListener("click",nextImage,!1),prev.addEventListener("click",prevImage,!1),document.addEventListener("keyup",function(e){27===e.keyCode&&closeLightbox()}),document.addEventListener("keyup",function(e){37===e.keyCode&&prevImage(e)}),document.addEventListener("keyup",function(e){39===e.keyCode&&nextImage(e)})}document.body.appendChild(lightbox),lightbox.appendChild(caption),lightbox.appendChild(lightboxNav),lightboxNav.appendChild(prev),lightboxNav.appendChild(next),lightbox.appendChild(closeBtn),lightbox.appendChild(lightboxLoader),lightbox.appendChild(lightboxContainer),lightbox.appendChild(counter),imagesLink.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),closedState=!1,lightbox.classList.add("open"),showImage(t),showCaption(t),lightboxImage.addEventListener("click",function(e){e.stopPropagation()}),caption.addEventListener("click",function(e){e.stopPropagation()})})}),events();